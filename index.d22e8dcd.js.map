{"mappings":"AAAA,IAAIA,aAAe,GACfC,UAAY,GACZC,YAAc,GACdC,cAAgB,EAChBC,iBAAkB,EAKtBC,eAAeC,iBACX,MAAMC,QAAiBC,MAAM,6DAA6DC,kBAAkBC,cAE5G,GAAuB,MAApBH,EAASI,OAER,YADAC,cAAcC,iBAAwB,MAAGN,EAASI,QAItD,MAAMG,QAAaP,EAASQ,OAE5Bf,aAAec,EAAKE,MACpBJ,cAAcC,iBAA0B,QAAG,E,CAG/C,SAASI,gBAAgBC,GACrBA,EAAMC,iBAEN,MAAMC,EAAQC,OAAOpB,WACrB,IAAIqB,EAAK,GACTrB,UAAY,GAGRqB,EADAtB,eAAiBoB,EACZ,UAEApB,aAAeoB,EACf,OAGA,UAGTR,cAAcC,iBAAiBS,GAAKF,GACpCG,e,CAGJ,SAASC,kBAAkBC,GACvB,MAAMT,EAAQK,OAAOI,EAAMT,OAEvBA,GAASP,YAAcO,GAASN,WAChCT,UAAYyB,OAAOV,GAEJ,IAAVA,IACLf,UAAY,IAGhB0B,qB,CAGJ,SAASA,sBACeC,SAASC,iBAAiB,mBAAmB,GACrDC,UAAY1B,gBAExB,MAAM2B,EAAaH,SAASC,iBAAiB,eAAe,GAC5DE,EAAWD,SAAW1B,gBACtB2B,EAAWf,MAAQf,UAEC2B,SAASC,iBAAiB,gBAAgB,GAClDC,SAA0B,KAAd7B,WAAoBG,e,CAGhD,SAAS4B,WAAWC,EAAKC,EAAWC,GAChC,OAAIC,SAASH,GAAKC,GAAWG,SAASF,GAC9B/B,gBACOF,YAAYoB,GAGhB,SAGJ,U,CAGX,SAASC,gBACL,MAAMe,EAAuBV,SAASW,eAAe,iBACrDD,EAAqBE,UAAY,GACjC,MAAMC,EAASf,OAAOvB,eAAeuC,MAAM,IAE3C,IAAK,MAAMP,KAASM,EAAO,CACvB,MAAME,EAAYf,SAASgB,cAAc,OACzCD,EAAUT,UAAY,YAEtBW,OAAOC,KAAKV,UAAUW,SAASd,IAC3B,MAAMe,EAAUpB,SAASgB,cAAc,OAGvC,GAFAI,EAAQd,UAAYD,EAER,WAARA,EACAY,OAAOC,KAAKV,SAASH,IAAMc,SAAQE,IAC/B,MAAMC,EAAgBtB,SAASgB,cAAc,OAC7CM,EAAchB,UAAYe,EAE1B,MAAME,EAAQnB,WAAWC,EAAKgB,EAAQd,GACtCe,EAAcC,MAAMC,eAAiBC,gBAAgBF,GAErDH,EAAQM,YAAYJ,EAAc,QAGrC,CACD,MAAMC,EAAQnB,WAAWC,EAAKA,EAAKE,GACnCa,EAAQd,WAAa,IAAIiB,IACzBH,EAAQG,MAAMI,WAAaF,gBAAgBF,E,CAG/CR,EAAUW,YAAYN,EAAQ,IAGlCV,EAAqBgB,YAAYX,E,EAIzC,SAAS/B,cAAc4C,EAAMC,GACzBtD,cAAgBsD,EAChBvD,YAAcsD,EACdpD,gBAA+B,YAAZoD,EAAKlC,IAAgC,UAAZkC,EAAKlC,GAEjDK,sBACAJ,gBAEA,MAAMmC,EAAqB9B,SAASW,eAAe,eACnDmB,EAAmBP,MAAMQ,MAAQH,EAAKG,MACtCD,EAAmBE,YAAcJ,EAAKK,I,CA1H1ClC,sBACArB","sources":["scripts/functions.js"],"sourcesContent":["var randomNumber = 42\r\nvar userGuess = ''\r\nvar displayInfo = {}\r\nvar displayNumber = 0\r\nvar isReloadAllowed = false\r\n\r\nsetDisabledElements()\r\nhandleNewMatch()\r\n\r\nasync function handleNewMatch(){\r\n    const response = await fetch(`https://us-central1-ss-devops.cloudfunctions.net/rand?min=${lowerLimit}&max=${upperLimit}`)\r\n    \r\n    if(response.status !== 200){\r\n        changeDisplay(textDisplayColor['error'], response.status)\r\n        return\r\n    }\r\n    \r\n    const data = await response.json()\r\n\r\n    randomNumber = data.value\r\n    changeDisplay(textDisplayColor['default'], 0)\r\n}\r\n\r\nfunction handleUserGuess(event){\r\n    event.preventDefault()\r\n\r\n    const guess = Number(userGuess)\r\n    let id = ''\r\n    userGuess = ''\r\n\r\n    if (randomNumber === guess) {\r\n        id = 'success'\r\n    }\r\n    else if (randomNumber < guess) {\r\n        id = 'less'\r\n    }\r\n    else {\r\n        id = 'greater'\r\n    }\r\n\r\n    changeDisplay(textDisplayColor[id], guess)\r\n    addLedDisplay()\r\n}\r\n\r\nfunction handleNumberInput(input){\r\n    const value = Number(input.value)\r\n\r\n    if (value >= lowerLimit && value <= upperLimit){     \r\n        userGuess = String(value)\r\n    }\r\n    else if (value === 0){\r\n        userGuess = ''\r\n    }\r\n\r\n    setDisabledElements()\r\n}\r\n\r\nfunction setDisabledElements(){\r\n    const MatchButton = document.querySelectorAll('.newMatchButton')[0]\r\n    MatchButton.disabled = !isReloadAllowed\r\n\r\n    const GuessInput = document.querySelectorAll('.guessInput')[0]\r\n    GuessInput.disabled = isReloadAllowed\r\n    GuessInput.value = userGuess\r\n\r\n    const GuessSubmit = document.querySelectorAll('.guessSubmit')[0]\r\n    GuessSubmit.disabled = (userGuess === '' || isReloadAllowed)\r\n}\r\n\r\nfunction getLedType(key, className, digit){\r\n    if (ledLight[key][className].includes(digit)){\r\n        if (isReloadAllowed){\r\n            return displayInfo.id\r\n        }\r\n        \r\n        return 'active'\r\n    }\r\n\r\n    return 'disabled'\r\n}\r\n\r\nfunction addLedDisplay(){\r\n    const displayNumberElement = document.getElementById('displayNumber')\r\n    displayNumberElement.innerHTML = ''\r\n    const digits = String(displayNumber).split('')\r\n\r\n    for (const digit of digits){\r\n        const ledNumber = document.createElement('div')\r\n        ledNumber.className = 'ledNumber'\r\n    \r\n        Object.keys(ledLight).forEach((key) => {\r\n            const newZone = document.createElement('div')\r\n            newZone.className = key\r\n    \r\n            if (key !== 'middle'){\r\n                Object.keys(ledLight[key]).forEach(secKey => {       \r\n                    const newLedSegment = document.createElement('div')\r\n                    newLedSegment.className = secKey\r\n\r\n                    const style = getLedType(key, secKey, digit)\r\n                    newLedSegment.style.borderTopColor = ledDisplayColor[style]\r\n\r\n                    newZone.appendChild(newLedSegment)\r\n                })\r\n            }\r\n            else {\r\n                const style = getLedType(key, key, digit)\r\n                newZone.className += ` ${style}`\r\n                newZone.style.background = ledDisplayColor[style]\r\n            }\r\n    \r\n            ledNumber.appendChild(newZone)\r\n        })\r\n    \r\n        displayNumberElement.appendChild(ledNumber)\r\n    }\r\n}\r\n\r\nfunction changeDisplay(info, number){\r\n    displayNumber = number\r\n    displayInfo = info\r\n    isReloadAllowed = (info.id === 'success' || info.id === 'error')\r\n    \r\n    setDisabledElements()\r\n    addLedDisplay()\r\n\r\n    const displayTextElement = document.getElementById('displayText')\r\n    displayTextElement.style.color = info.color\r\n    displayTextElement.textContent = info.text\r\n}"],"names":["randomNumber","userGuess","displayInfo","displayNumber","isReloadAllowed","async","handleNewMatch","response","fetch","lowerLimit","upperLimit","status","changeDisplay","textDisplayColor","data","json","value","handleUserGuess","event","preventDefault","guess","Number","id","addLedDisplay","handleNumberInput","input","String","setDisabledElements","document","querySelectorAll","disabled","GuessInput","getLedType","key","className","digit","ledLight","includes","displayNumberElement","getElementById","innerHTML","digits","split","ledNumber","createElement","Object","keys","forEach","newZone","secKey","newLedSegment","style","borderTopColor","ledDisplayColor","appendChild","background","info","number","displayTextElement","color","textContent","text"],"version":3,"file":"index.d22e8dcd.js.map"}